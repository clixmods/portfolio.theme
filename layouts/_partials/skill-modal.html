{{/* Modal pour afficher les d√©tails d'une comp√©tence/technologie - Design Glassmorphism */}}
<div id="skillModal" class="skill-modal" style="display: none;">
    <div class="modal-backdrop" onclick="closeSkillModal()"></div>
    <div class="modal-content">
        <div class="modal-header">
            <button class="modal-close" onclick="closeSkillModal()">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="skill-info">
                <div class="skill-icon-large">
                    <span id="modalSkillIcon"></span>
                </div>
                <h2 id="modalSkillName"></h2>
                <div class="skill-details">
                    <div class="skill-detail-item">
                        <span class="detail-label">Niveau</span>
                        <span id="modalSkillLevel" class="detail-value"></span>
                    </div>
                    <div class="skill-detail-item">
                        <span class="detail-label">Exp√©rience</span>
                        <span id="modalSkillExperience" class="detail-value"></span>
                    </div>
                </div>
            </div>
            
            <div class="projects-section">
                <h3>üíº Projets utilisant cette technologie</h3>
                <div id="modalProjectsList" class="modal-projects-grid">
                    <!-- Les projets seront charg√©s dynamiquement depuis les donn√©es int√©gr√©es -->
                </div>
            </div>
        </div>
    </div>
</div>

{{/* Int√©grer les donn√©es des projets dans la page pour √©viter les requ√™tes API */}}
<script>
window.portfolioProjects = [
    {{- range where .Site.RegularPages "Section" "projects" -}}
        {{- $allTechnologies := partial "get-all-technologies.html" . -}}
        
        {
            title: {{ .Title | jsonify }},
            subtitle: {{ .Params.subtitle | default .Params.description | jsonify }},
            description: {{ .Params.description | jsonify }},
            url: {{ .RelPermalink | jsonify }},
            image: {{ .Params.image | default "/images/placeholder-project.jpg" | jsonify }},
            background_image: {{ .Params.image | default "/images/placeholder-project.jpg" | jsonify }},
            year: {{ .Params.year | default (.Date.Format "2006") | jsonify }},
            technologies: {{ $allTechnologies | jsonify }},
            sector: {{ .Params.sector | jsonify }},
            featured: {{ .Params.featured | default false }},
            status: {{ .Params.status | jsonify }},
            github: {{ .Params.github | jsonify }},
            demo: {{ .Params.demo | jsonify }},
            website: {{ .Params.website | jsonify }}
        },
    {{- end -}}
];
</script>
