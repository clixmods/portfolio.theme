{{/*
  Partial: Awards Modal Layout
  Description: Structure HTML pour l'affichage des r√©compenses dans les modals de project widget
  Context: 
    - .awards (slice) - Liste des r√©compenses du projet
    - .projectId (string) - ID du projet pour contextualiser les actions
    - .profileData (dict) - Donn√©es du profil pour la section d√©veloppeur
*/}}

{{- $awards := .awards -}}
{{- $projectId := .projectId | default "" -}}
{{- $profileData := .profileData -}}

{{- $total := len $awards -}}

{{- if gt $total 0 -}}
  <div class="awards-modal">
    {{/* Barre de statistiques */}}
    <div class="awards-stats-bar">
      <div class="widget-count">
        <strong>{{ $total }}</strong> {{ if eq $total 1 }}{{ i18n "reward" | default "r√©compense" }}{{ else }}{{ i18n "rewards" | default "r√©compenses" }}{{ end }}
      </div>
      {{/* Ann√©es des r√©compenses */}}
      {{- $years := slice -}}
      {{- range $awards -}}
        {{- if .date -}}
          {{- $years = $years | append .date -}}
        {{- end -}}
      {{- end -}}
      {{- $distinctYears := $years | uniq -}}
      {{- if gt (len $distinctYears) 0 -}}
        <div class="awards-years">
          {{- range $distinctYears -}}
            <div class="award-year-chip widget-badge widget-badge--sm">{{ . }}</div>
          {{- end -}}
        </div>
      {{- end -}}
    </div>
    

    
    {{/* Grille des r√©compenses */}}
    <div class="awards-grid">
      {{- range $index, $award := $awards -}}
        {{- $awardTitle := $award.title | default (i18n "reward" | default "R√©compense") -}}
        {{- $awardOrganization := $award.organization | default "" -}}
        {{- $awardDate := $award.date | default "" -}}
        {{- $awardDescription := $award.description | default "" -}}
        
        <div class="award-card widget-card widget-card--static" 
             data-award="{{ $awardTitle }}">
          
          {{/* En-t√™te de la r√©compense */}}
          <div class="award-header">
            <div class="award-icon widget-icon widget-icon--lg" aria-hidden="true">üèÜ</div>
            <div class="award-info">
              <div class="award-title">{{ $awardTitle }}</div>
              {{- if $awardOrganization -}}
                <div class="award-organization">{{ $awardOrganization }}</div>
              {{- end -}}
            </div>
          </div>
          
          {{/* Description si disponible */}}
          {{- if $awardDescription -}}
            <div class="award-description">{{ $awardDescription }}</div>
          {{- end -}}
          
          {{/* Badge avec la date */}}
          {{- if $awardDate -}}
            <div class="award-badge widget-badge">
              {{ $awardDate }}
            </div>
          {{- end -}}
        </div>
      {{- end -}}
    </div>
    

  </div>
{{- else -}}
  <div class="awards-modal">
    <div class="awards-stats-bar">
      <div class="widget-count">
        <strong>0</strong> {{ i18n "rewards" | default "r√©compenses" }}
      </div>
    </div>
    
    <div class="awards-empty-state widget-note">
      <div class="widget-note-header">
        <div class="widget-note-icon widget-icon widget-icon--md">üèÜ</div>
        <div class="widget-note-title">{{ i18n "no_reward" | default "Aucune r√©compense" }}</div>
      </div>
      <div class="widget-note-content">
        <p>{{ i18n "no_official_reward_yet" | default "Ce projet n'a pas encore re√ßu de r√©compenses officielles." }}</p>
      </div>
    </div>
  </div>
{{- end -}}