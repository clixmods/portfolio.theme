{{/*
  Partial: Soft Skills Modal Layout
  Description: HTML structure for displaying soft skills in project widget modals
  Context: 
    - .softSkills (slice) - List of soft skills used in the project
    - .projectId (string) - Project ID for contextualizing actions
    - .profileData (dict) - Profile data for the developer section
*/}}

{{- $softSkills := .softSkills -}}
{{- $projectId := .projectId | default "" -}}
{{- $profileData := .profileData -}}

{{- if $softSkills -}}
  {{- $total := len $softSkills -}}

  <div class="soft-skills-modal">
    {{/* Statistics bar */}}
    <div class="soft-skills-stats-bar">
      <div class="widget-count">
        <strong>{{ $total }}</strong> comp√©tence{{ if gt $total 1 }}s{{ end }} transversale{{ if gt $total 1 }}s{{ end }}
      </div>
    </div>
    
    {{/* Developer note */}}
    {{- if $profileData -}}
    <div class="developer-profile-note">
      <div class="profile-avatar">
        <img src="{{ $profileData.media.profileImage }}" alt="{{ $profileData.personal.fullName }}" loading="lazy">
      </div>
      <div class="profile-note-content">
        <div class="profile-note-title">Comp√©tences transversales de {{ $profileData.personal.firstName }} pour ce projet</div>
        <div class="profile-note-subtitle">{{ $profileData.personal.title }}</div>
      </div>
    </div>
    {{- end -}}
    
    {{/* Soft skills grid */}}
    <div class="soft-skills-grid">
      {{- range $softSkills -}}
        {{- $skillName := .name | default "Comp√©tence" -}}
        {{- $skillIcon := .icon | default "üí°" -}}
        {{- $skillIconPath := .iconPath | default "" -}}
        {{- $skillSubtitle := .subtitle | default "" -}}
        {{- $skillColor := .color | default "#9C27B0" -}}
        
        <div class="soft-skill-card" 
             data-soft-skill="{{ $skillName }}" 
             tabindex="0" 
             role="button" 
             aria-label="Voir les d√©tails de {{ $skillName }}"
             onclick="openSkillModal('{{ $skillName }}', '{{ if $skillIconPath }}{{ $skillIconPath }}{{ else }}{{ $skillIcon }}{{ end }}', 'Soft Skill', '', '{{ if $skillIconPath }}svg{{ else }}emoji{{ end }}')"
             style="cursor: pointer; --skill-color: {{ $skillColor }};">
          
          {{/* Soft skill header */}}
          <div class="soft-skill-header">
            <div class="soft-skill-icon widget-icon widget-icon--lg" aria-hidden="true">
              {{- if $skillIconPath -}}
                <img src="{{ $skillIconPath }}" alt="{{ $skillName }}" class="tech-icon-svg">
              {{- else -}}
                {{ $skillIcon }}
              {{- end -}}
            </div>
            <div class="soft-skill-info">
              <div class="soft-skill-title">{{ $skillName }}</div>
              {{- if $skillSubtitle -}}
                <div class="soft-skill-subtitle">{{ $skillSubtitle }}</div>
              {{- end -}}
            </div>
          </div>
          
          {{/* Badge with visual indicator */}}
          <div class="soft-skill-badge widget-badge" style="background-color: {{ $skillColor }}20; color: {{ $skillColor }};">
            Comp√©tence cl√©
          </div>
        </div>
      {{- end -}}
    </div>
    
    {{/* Interaction note */}}
    <div class="soft-skills-interaction-note">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"/>
      </svg>
      Cliquez sur une comp√©tence pour voir les projets et exp√©riences associ√©s
    </div>
  </div>
{{- else -}}
  <div class="soft-skills-modal">
    <div class="soft-skills-stats-bar">
      <div class="soft-skills-count">
        <strong>0</strong> comp√©tences transversales
      </div>
    </div>
    
    <div class="soft-skills-empty-state">
      <svg class="soft-skills-empty-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M16,11C17.66,11 18.99,9.66 18.99,8C18.99,6.34 17.66,5 16,5C14.34,5 13,6.34 13,8C13,9.66 14.34,11 16,11M8,11C9.66,11 10.99,9.66 10.99,8C10.99,6.34 9.66,5 8,5C6.34,5 5,6.34 5,8C5,9.66 6.34,11 8,11M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M16,13C15.71,13 15.38,13.02 15.03,13.05C16.19,13.89 17,15.02 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13Z"/>
      </svg>
      <p>Aucune comp√©tence transversale sp√©cifique r√©f√©renc√©e pour ce projet</p>
    </div>
  </div>
{{- end -}}
