<section class="education-section">
    <div class="education-header">
    <h2>{{ i18n "education_title" | default "Formation & Certifications" }}</h2>
    <p class="education-subtitle">{{ i18n "education_subtitle" | default "Mon parcours académique et professionnel, construisant les fondations de mon expertise technique" }}</p>
    </div>

    <!-- Navigation Tabs -->
    <div class="education-tabs">
    <button class="edu-tab-btn active" data-category="education">{{ i18n "education" | default "Formation" }}</button>
    <button class="edu-tab-btn" data-category="certifications">{{ i18n "certifications" | default "Certifications" }}</button>
    </div>

    <!-- Education Timeline -->
    <div class="timeline-container" id="education-timeline">
        <div class="timeline-line"></div>
        
        {{ range where .Site.RegularPages "Section" "educations" }}
        {{ if ne .File.BaseFileName "_index" }}
        <div class="timeline-item education-item" data-category="education">
            <div class="timeline-marker" style="background-color: {{ .Params.color }};">
                <span class="timeline-icon">{{ .Params.icon }}</span>
            </div>
            
            <div class="timeline-content">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-period">
                            {{ if .Params.start_date }}
                                {{ dateFormat "2006" .Params.start_date }} - 
                                {{ if .Params.end_date }}
                                    {{ dateFormat "2006" .Params.end_date }}
                                {{ else }}
                                    {{ i18n "present" | default "Présent" }}
                                {{ end }}
                            {{ end }}
                        </div>
                        <div class="timeline-status status-{{ lower .Params.status }}">{{ .Params.status }}</div>
                    </div>
                    
                    <h3 class="timeline-title">{{ .Title }}</h3>
                    <h4 class="timeline-institution">{{ .Params.institution }}{{ if .Params.city }} - {{ .Params.city }}{{ end }}</h4>
                    
                    <p class="timeline-description">{{ .Params.description }}</p>
                    
                    <div class="timeline-details">
                        <div class="timeline-grade">
                            <strong>{{ i18n "grade" | default "Résultat :" }}</strong> {{ .Params.grade }}
                        </div>
                        
                        {{ if or .Params.programming_languages .Params.frameworks_engines .Params.tools }}
                        <div class="timeline-skills">
                            <strong>{{ i18n "technical_skills" | default "Compétences techniques :" }}</strong>
                            <div class="skills-tags">
                                {{ range .Params.programming_languages }}
                                {{ $skillName := . }}
                                {{ $found := false }}
                                {{ range $.Site.Data.programming_languages }}
                                {{ if eq .name $skillName }}
                                <span class="skill-tag clickable" 
                                      onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                                      data-skill-name="{{ .name }}"
                                      data-skill-type="programming-language">
                                    {{ partial "tech-icon.html" . }} {{ .name }}
                                </span>
                                {{ $found = true }}
                                {{ end }}
                                {{ end }}
                                {{ if not $found }}
                                <span class="skill-tag programming">{{ $skillName }}</span>
                                {{ end }}
                                {{ end }}
                                {{ range .Params.frameworks_engines }}
                                {{ $skillName := . }}
                                {{ $found := false }}
                                {{ range $.Site.Data.frameworks_engines }}
                                {{ if eq .name $skillName }}
                                <span class="skill-tag clickable" 
                                      onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                                      data-skill-name="{{ .name }}"
                                      data-skill-type="framework-engine">
                                    {{ partial "tech-icon.html" . }} {{ .name }}
                                </span>
                                {{ $found = true }}
                                {{ end }}
                                {{ end }}
                                {{ if not $found }}
                                <span class="skill-tag framework">{{ $skillName }}</span>
                                {{ end }}
                                {{ end }}
                                {{ range .Params.tools }}
                                {{ $skillName := . }}
                                {{ $found := false }}
                                {{ range $.Site.Data.tools }}
                                {{ if eq .name $skillName }}
                                <span class="skill-tag clickable" 
                                      onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath }}{{ else }}{{ .icon }}{{ end }}', '{{ .description }}', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                                      data-skill-name="{{ .name }}"
                                      data-skill-type="tool">
                                    {{ partial "tech-icon.html" . }} {{ .name }}
                                </span>
                                {{ $found = true }}
                                {{ end }}
                                {{ end }}
                                {{ if not $found }}
                                <span class="skill-tag tool">{{ $skillName }}</span>
                                {{ end }}
                                {{ end }}
                            </div>
                        </div>
                        {{ end }}
                        
                        {{ if or .Params.specialties .Params.soft_skills }}
                        <div class="timeline-skills">
                            <strong>{{ i18n "cross_skills" | default "Compétences transversales :" }}</strong>
                            <div class="skills-tags">
                                {{ range .Params.specialties }}
                                {{ $skillName := . }}
                                {{ $found := false }}
                                {{ range $.Site.Data.specialties }}
                                {{ if eq .name $skillName }}
                                <span class="skill-tag clickable" 
                                      onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                                      data-skill-name="{{ .name }}"
                                      data-skill-type="specialty">
                                    {{ partial "tech-icon.html" . }} {{ .name }}
                                </span>
                                {{ $found = true }}
                                {{ end }}
                                {{ end }}
                                {{ if not $found }}
                                <span class="skill-tag specialty">{{ $skillName }}</span>
                                {{ end }}
                                {{ end }}
                                {{ range .Params.soft_skills }}
                                {{ $skillName := . }}
                                {{ $found := false }}
                                {{ range $.Site.Data.soft_skills }}
                                {{ if eq .name $skillName }}
                                <span class="skill-tag clickable" 
                                      onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                                      data-skill-name="{{ .name }}"
                                      data-skill-type="soft-skill">
                                    {{ partial "tech-icon.html" . }} {{ .name }}
                                </span>
                                {{ $found = true }}
                                {{ end }}
                                {{ end }}
                                {{ if not $found }}
                                <span class="skill-tag soft">{{ $skillName }}</span>
                                {{ end }}
                                {{ end }}
                            </div>
                        </div>
                        {{ end }}
                    </div>
                </div>
            </div>
        </div>
        {{ end }}
        {{ end }}
    </div>

    <!-- Certifications Timeline -->
    <div class="timeline-container" id="certifications-timeline" style="display: none;">
        <div class="timeline-line"></div>
        
        {{ range $index, $cert := .Site.Data.certifications }}
        <div class="timeline-item certification-item" data-category="certifications">
            <div class="timeline-marker" style="background-color: {{ $cert.color }};">
                <span class="timeline-icon">{{ $cert.icon }}</span>
            </div>
            
            <div class="timeline-content">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-period">{{ $cert.date }}</div>
                        <div class="timeline-status status-{{ lower $cert.status }}">{{ $cert.status }}</div>
                    </div>
                    
                    <h3 class="timeline-title">{{ $cert.title }}</h3>
                    <h4 class="timeline-institution">{{ $cert.issuer }}</h4>
                    
                    <p class="timeline-description">{{ $cert.description }}</p>
                </div>
            </div>
        </div>
        {{ end }}
    </div>
</section>
