<section class="skills-section">
    <div class="skills-header">
        <h2>{{ i18n "technical_skills" | default "Comp√©tences Techniques" }}</h2>
        <p class="skills-subtitle">{{ i18n "skills_subtitle" | default "Ma√Ætrise des technologies modernes pour cr√©er des exp√©riences utilisateur exceptionnelles et des solutions techniques robustes. üíª" }}</p>
    </div>

    <!-- Navigation Tabs -->
    <div class="skills-navigation">
        <button class="skill-category-btn active" data-category="all">{{ i18n "all" | default "Toutes" }}</button>
        <button class="skill-category-btn" data-category="programming-languages">{{ i18n "programming_languages" | default "Langages" }}</button>
        <button class="skill-category-btn" data-category="engines">{{ i18n "engines" | default "Moteurs" }}</button>
        <button class="skill-category-btn" data-category="frameworks">{{ i18n "frameworks" | default "Frameworks" }}</button>
        <button class="skill-category-btn" data-category="environments">{{ i18n "environments" | default "Environnements" }}</button>
        <button class="skill-category-btn" data-category="tools">{{ i18n "tools" | default "Outils" }}</button>
        <button class="skill-category-btn" data-category="specialties">{{ i18n "specialties" | default "Sp√©cialit√©s" }}</button>
        <button class="skill-category-btn" data-category="soft-skills">{{ i18n "soft_skills" | default "Soft Skills" }}</button>
    </div>

    <!-- Description Text -->
    <div class="skills-description">
        <p id="skills-section-description">{{ i18n "skills_description" | default "Explorez toutes mes comp√©tences techniques organis√©es par cat√©gories. Cliquez sur une cat√©gorie pour filtrer les comp√©tences." }}</p>
    </div>

    <div class="skills-full-categories-grid">
        
        {{/* Programming Languages */}}
        <div class="skills-category" data-category="programming-languages">
            <h4>{{ i18n "programming_languages" | default "Langages de programmation" }}</h4>
            <div class="skills-grid">
                {{ range .Site.Data.programming_languages }}
                    {{ $experienceText := partial "helpers/format-experience.html" .experience }}
                    <div class="skill-block clickable" 
                         onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                         data-skill-name="{{ .name }}"
                         data-skill-type="programming-language"
                         data-skill-category="programming-languages">
                        <span class="skill-icon">
                            {{ if .iconPath }}
                              <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                            {{ else }}
                              <span class="tech-icon-emoji">{{ .icon }}</span>
                            {{ end }}
                        </span>
                        <span class="skill-name">{{ .name }}</span>
                        {{ if $experienceText }}
                        <span class="skill-level">{{ $experienceText }}</span>
                        {{ end }}
                    </div>
                {{ end }}
            </div>
        </div>

        {{/* Frameworks */}}
        <div class="skills-category" data-category="frameworks">
            <h4>{{ i18n "frameworks" | default "Frameworks" }}</h4>
            <div class="skills-grid">
                {{ range .Site.Data.frameworks_engines }}
                    {{ if not (or (in .name "Unity") (in .name "Unreal") (in .name "engine") (in .name "Engine")) }}
                    {{ $experienceText := partial "helpers/format-experience.html" .experience }}
                    <div class="skill-block clickable" 
                         onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                         data-skill-name="{{ .name }}"
                         data-skill-type="framework"
                         data-skill-category="frameworks">
                        <span class="skill-icon">
                            {{ if .iconPath }}
                              <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                            {{ else }}
                              <span class="tech-icon-emoji">{{ .icon }}</span>
                            {{ end }}
                        </span>
                        <span class="skill-name">{{ .name }}</span>
                        {{ if $experienceText }}
                        <span class="skill-level">{{ $experienceText }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>

        {{/* Game Engines */}}
        <div class="skills-category" data-category="engines">
            <h4>{{ i18n "game_engines" | default "Moteurs de jeu" }}</h4>
            <div class="skills-grid">
                {{ range .Site.Data.frameworks_engines }}
                    {{ if or (in .name "Unity") (in .name "Unreal") (in .name "engine") (in .name "Engine") }}
                    {{ $experienceText := partial "helpers/format-experience.html" .experience }}
                    <div class="skill-block clickable" 
                         onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                         data-skill-name="{{ .name }}"
                         data-skill-type="engine"
                         data-skill-category="engines">
                        <span class="skill-icon">
                            {{ if .iconPath }}
                              <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                            {{ else }}
                              <span class="tech-icon-emoji">{{ .icon }}</span>
                            {{ end }}
                        </span>
                        <span class="skill-name">{{ .name }}</span>
                        {{ if $experienceText }}
                        <span class="skill-level">{{ $experienceText }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>

        {{/* Environments */}}
        <div class="skills-category" data-category="environments">
            <h4>{{ i18n "environments" | default "Environnements de d√©veloppement" }}</h4>
            <div class="skills-grid">
                {{ range sort .Site.Data.tools "experience" "desc" }}
                    {{ if eq .category "ide" }}
                    {{ $experienceText := partial "helpers/format-experience.html" .experience }}
                    <div class="skill-block clickable" 
                         onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '{{ .description }}', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                         data-skill-name="{{ .name }}"
                         data-skill-type="environment"
                         data-skill-category="environments">
                        <span class="skill-icon">
                            {{ if .iconPath }}
                              <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                            {{ else }}
                              <span class="tech-icon-emoji">{{ .icon }}</span>
                            {{ end }}
                        </span>
                        <span class="skill-name">{{ .name }}</span>
                        {{ if $experienceText }}
                        <span class="skill-level">{{ $experienceText }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>

        {{/* Tools */}}
        <div class="skills-category" data-category="tools">
            <h4>{{ i18n "tools" | default "Outils" }}</h4>
            <div class="skills-grid">
                {{ range sort .Site.Data.tools "experience" "desc" }}
                    {{ if ne .category "ide" }}
                    {{ $experienceText := partial "helpers/format-experience.html" .experience }}
                    <div class="skill-block clickable" 
                         onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '{{ .description }}', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                         data-skill-name="{{ .name }}"
                         data-skill-type="tool"
                         data-skill-category="tools">
                        <span class="skill-icon">
                            {{ if .iconPath }}
                              <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                            {{ else }}
                              <span class="tech-icon-emoji">{{ .icon }}</span>
                            {{ end }}
                        </span>
                        <span class="skill-name">{{ .name }}</span>
                        {{ if $experienceText }}
                        <span class="skill-level">{{ $experienceText }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                {{ end }}
            </div>
        </div>

        {{/* Specialties */}}
        <div class="skills-category" data-category="specialties">
            <h4>{{ i18n "specialties" | default "Sp√©cialit√©s" }}</h4>
            <div class="skills-grid">
                {{ range .Site.Data.specialties }}
                <div class="skill-block clickable" 
                     onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                     data-skill-name="{{ .name }}"
                     data-skill-type="specialty"
                     data-skill-category="specialties">
                    <span class="skill-icon">
                        {{ if .iconPath }}
                          <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                        {{ else }}
                          <span class="tech-icon-emoji">{{ .icon }}</span>
                        {{ end }}
                    </span>
                    <span class="skill-name">{{ .name }}</span>
                    {{ if .subtitle }}
                    <span class="skill-level">{{ .subtitle }}</span>
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </div>

        {{/* Soft Skills */}}
        <div class="skills-category" data-category="soft-skills">
            <h4>{{ i18n "soft_skills" | default "Soft Skills" }}</h4>
            <div class="skills-grid">
                {{ range .Site.Data.soft_skills }}
                <div class="skill-block clickable" 
                     onclick="openSkillModal('{{ .name }}', '{{ if .iconPath }}{{ .iconPath | relURL }}{{ else }}{{ .icon }}{{ end }}', '', '{{ .experience }}', '{{ if .iconPath }}svg{{ else }}emoji{{ end }}')"
                     data-skill-name="{{ .name }}"
                     data-skill-type="soft-skill"
                     data-skill-category="soft-skills">
                    <span class="skill-icon">
                        {{ if .iconPath }}
                          <img src="{{ .iconPath | relURL }}" alt="{{ .name }}" class="tech-icon-svg" width="28" height="28">
                        {{ else }}
                          <span class="tech-icon-emoji">{{ .icon }}</span>
                        {{ end }}
                    </span>
                    <span class="skill-name">{{ .name }}</span>
                    {{ if .subtitle }}
                    <span class="skill-level">{{ .subtitle }}</span>
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </div>

    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const categoryBtns = document.querySelectorAll('.skill-category-btn');
    const skillCategories = document.querySelectorAll('.skills-category');
    const description = document.getElementById('skills-section-description');
    
    const descriptions = {
        'all': 'Explorez toutes mes comp√©tences techniques organis√©es par cat√©gories. Cliquez sur une cat√©gorie pour filtrer les comp√©tences.',
        'programming-languages': 'D√©couvrez les langages de programmation que je ma√Ætrise pour d√©velopper des applications robustes et performantes.',
        'frameworks': 'Explorez les frameworks web et applications que j\'utilise pour cr√©er des solutions modernes et efficaces.',
        'engines': 'Plongez dans les moteurs de jeu que je ma√Ætrise pour cr√©er des exp√©riences interactives immersives.',
        'tools': 'D√©couvrez les outils et environnements de d√©veloppement que j\'utilise au quotidien.',
        'specialties': 'Explorez mes domaines de sp√©cialisation et d\'expertise particuli√®re.',
        'soft-skills': 'D√©couvrez mes comp√©tences interpersonnelles et organisationnelles.'
    };
    
    categoryBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const category = this.dataset.category;
            
            // Update active button
            categoryBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            // Update description
            if (descriptions[category]) {
                description.textContent = descriptions[category];
            }
            
            // Show/hide skill categories
            skillCategories.forEach(cat => {
                if (category === 'all' || cat.dataset.category === category) {
                    cat.style.display = 'block';
                } else {
                    cat.style.display = 'none';
                }
            });
        });
    });
});
</script>
